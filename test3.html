<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-gltf-part-component/dist/aframe-gltf-part-component.min.js"></script>
  <script>
    AFRAME.registerComponent('cursor-listener', {
      init: function () {
        this.el.addEventListener('mousedown', function (evt) {
          console.log('I was clicked at: ', evt.detail.intersection.point);
        });
      }
    });
  </script>
</head>

<body>
  <a-scene>
    <a-assets timeout="30000">
      <a-asset-item id="fossils" src="fossils/scene.gltf"></a-asset-item>
    </a-assets>

    <a-camera position="0 1.6 0">
      <a-entity cursor="fuse: false; fuseTimeout: 500"
                position="0 0 -0.1"
                geometry="primitive:ring; radiusInner: 0.0007; radiusOuter: 0.0014"
                material="color: black; shader: flat">
      </a-entity>
    </a-camera>

    <!-- 2D environment omitted for simplicity -->
    <!--<a-sky color="#ECECEC"></a-sky>-->

    <script>
      var parts = ["01","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21"];
      var scale = 0.1;
      var rowLength = 5;
      var xStart = -2;
      var zPos = 0;
      var spacing = 0.5;

      for(var i=0; i<parts.length; i++){
        document.write('<a-entity gltf-part="src: #fossils; part: fossil'+parts[i]+'" position="'+(xStart+i%rowLength+spacing)+' 1 '+(zPos+spacing)+'" scale="'+scale+' '+scale+' '+scale+'"></a-entity>');
        if (i%rowLength==0 && i>0) zPos--;
      };

    </script>
  </a-scene>


</body>

</html>
